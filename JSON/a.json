{
    "@context": {
        "ex": "<http: //example.org/whiskeyman/>",
        "foaf": "<http: //xmlns.com/foaf/0.1/>",
        "whisky": "<https: //vocab.org/whisky/terms/>",
        "dcat": "<http: //www.w3.org/ns/dcat>",
        "cis": "<http: //dati.beniculturali.it/cultural-ON/cultural-ON.owl> ",
        "xsd": "<http: //www.w3.org/2001/XMLSchema#>",
        "schema": "<http: //schema.org>",
        "rdfs": "<http: //www.w3.org/2000/01/rdf-schema#>",
        "rdf": "<http: //www.w3.org/1999/02/22-rdf-syntax-ns#>",
        "cerif": "<http: //www.eurocris.org/ontologies/cerif/1.3>"
    },
    "$schema": "http://json-schema.org/draft-04/schema#",
    "$id": "https://example.com/BottleDescription.schema.json",
    "title": "Bottles",
    "description": "Bottle from the store",
    "uniqueItems": true,
    "type": "array",
    "minItems": 0,
    "definitions": {
        "Price": {
            "type": "object",
            "required": [
                "value",
                "currency"
            ],
            "properties": {
                "ex:value": {
                    "type": "number",
                    "minimum": 0
                },
                "cerif:currency": {
                    "type": "string",
                    "description": "Code of currency"
                }
            }
        },
        "ex:BottleDescription": {
            "type": "object",
            "required": [
                "name",
                "voltage"
            ],
            "properties": {
                "schema:name": {
                    "type": "string",
                    "description": "Name of the described bottle"
                },
                "whisky:age": {
                    "type": "number"
                },
                "whisky:voltage": {
                    "type": "number",
                    "minimum": 0,
                    "desription": "Alcohol by volume present in bottle"
                },
                "ex:Distillery": {
                    "$ref": "#/definitions/Distillery"
                }
            }
        },
        "ex:Distillery": {
            "type": "object",
            "required": [
                "name",
                "founded"
            ],
            "properties": {
                "schema:name": {
                    "type": "string"
                },
                "ex:founded": {
                    "type": "number"
                },
                "ex:Region": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "$ref": "#/definitions/Region"
                    }
                }
            }
        },
        "ex:Region": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "schema:name": {
                    "type": "string"
                }
            }
        },
        "ex:Transaction": {
            "type": "object",
            "required": [
                "ammountMl",
                "price",
                "creationTime",
                "customerID"
            ],
            "properties": {
                "ex:ammountMl": {
                    "type": "number",
                    "minimum": 0
                },
                "schema:price": {
                    "$ref": "#/definitions/Price"
                },
                "schema:creationTime": {
                    "type": "string",
                    "format": "date-time"
                },
                "ex:customerID": {
                    "type": "number"
                }
            }
        },
        "ex:SpecialPrice": {
            "type": "object",
            "required": [
                "price",
                "customerID"
            ],
            "properties": {
                "schema:price": {
                    "$ref": "#/definitions/Price"
                },
                "ex:customerID": {
                    "type": "number"
                }
            }
        },
        "Ownership": {
            "type": "object",
            "required": [
                "share",
                "customerID"
            ],
            "properties": {
                "ex:share": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "percentage share of the bottle in question"
                },
                "ex:customerID": {
                    "type": "number"
                }
            }
        }
    },
    "items": {
        "type": "object",
        "title": "Bottle",
        "properties": {
            "ex:bottleID": {
                "type": "number"
            },
            "ex:shotPrice": {
                "$ref": "#/definitions/Price",
                "description": "Price for one shot of size 20ml"
            },
            "ex:bottlePrice": {
                "$ref": "#/definitions/Price"
            },
            "ex:inStock": {
                "type": "boolean",
                "description": "Is bottle available for purchase"
            },
            "schema:barcode": {
                "type": "string"
            },
            "schema:purchaseDate": {
                "type": "string",
                "format": "date-time"
            },
            "ex:Ownerships": {
                "type": "array",
                "minItems": 0,
                "items": {
                    "$ref": "#/definitions/Ownership"
                }
            },
            "ex:SpecialPrices": {
                "type": "array",
                "items": {
                    "$ref": "#/definitions/SpecialPrice"
                }
            },
            "ex:Described": {
                "$ref": "#/definitions/BottleDescription"
            },
            "ex:Transactions": {
                "type": "array",
                "items": {
                    "$ref": "#/definitions/Transaction"
                }
            }
        },
        "required": [
            "bottleID",
            "shotPrice",
            "inStock",
            "barcode",
            "Ownerships",
            "SpecialPrices",
            "Described",
            "Transactions",
            "purchaseDate"
        ]
    }
}